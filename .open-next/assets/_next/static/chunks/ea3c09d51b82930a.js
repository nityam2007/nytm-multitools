(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={callServer:function(){return d.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});let d=e.r(32120),l=e.r(92245),i=e.r(35326)},86528,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(95187),s=(0,r.createServerReference)("40222b82691cf42a6a8c65152efcfa50bd88e0ccc0",r.callServer,void 0,r.findSourceMapURL,"fetchRecords"),d=(0,r.createServerReference)("40e31c8a2d3e3e71e267bdb3ff82a632febd2fd550",r.callServer,void 0,r.findSourceMapURL,"deleteRecordAction");let l={text:"ğŸ“",image:"ğŸ–¼ï¸",dev:"ğŸ’»",converter:"ğŸ”„",generator:"ğŸ²",security:"ğŸ”",misc:"ğŸ”§"};function i({initialRecords:e,initialTotal:r,toolStats:i,categoryStats:n}){let[c,o]=(0,a.useState)(e),[x,m]=(0,a.useState)(r),[u,v]=(0,a.useState)(1),[p,h]=(0,a.useState)(!1),[b,j]=(0,a.useState)(null),[f,g]=(0,a.useState)(""),[N,y]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),_=Math.ceil(x/50),R=async(e=1)=>{h(!0);try{let t=await s({page:e,limit:50,tool:f||void 0,category:N||void 0,search:w||void 0});o(t.records),m(t.total),v(e)}catch(e){console.error("Failed to fetch records:",e)}finally{h(!1)}},T=async e=>{if(confirm("Are you sure you want to delete this record?"))try{await d(e),R(u)}catch(e){console.error("Failed to delete record:",e)}},A=async()=>{confirm(`Delete all ${x} filtered records? This cannot be undone!`)&&alert("Bulk delete not implemented yet")};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-[var(--admin-text)]",children:"Activity Log"}),(0,t.jsxs)("p",{className:"text-[var(--admin-muted)]",children:["Complete history of all tool operations (",x.toLocaleString()," records)"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>R(u),className:"px-4 py-2 rounded-xl bg-[var(--admin-card)] border border-[var(--admin-border)] hover:bg-[var(--admin-hover)] transition-colors flex items-center gap-2",children:"ğŸ”„ Refresh"}),(0,t.jsx)("button",{onClick:A,className:"px-4 py-2 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 transition-colors",children:"ğŸ—‘ï¸ Clear All"})]})]}),(0,t.jsx)("div",{className:"bg-[var(--admin-card)] rounded-2xl border border-[var(--admin-border)] p-5",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,t.jsx)("label",{className:"text-xs text-[var(--admin-muted)] block mb-1",children:"Search"}),(0,t.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),placeholder:"Search in data...",className:"w-full px-3 py-2 rounded-xl bg-[var(--admin-bg)] border border-[var(--admin-border)] text-[var(--admin-text)] text-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),(0,t.jsxs)("div",{className:"w-44",children:[(0,t.jsx)("label",{className:"text-xs text-[var(--admin-muted)] block mb-1",children:"Tool"}),(0,t.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 rounded-xl bg-[var(--admin-bg)] border border-[var(--admin-border)] text-[var(--admin-text)] text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,t.jsx)("option",{value:"",children:"All Tools"}),i.map(e=>(0,t.jsxs)("option",{value:e.tool,children:[e.tool," (",e.count,")"]},e.tool))]})]}),(0,t.jsxs)("div",{className:"w-40",children:[(0,t.jsx)("label",{className:"text-xs text-[var(--admin-muted)] block mb-1",children:"Category"}),(0,t.jsxs)("select",{value:N,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 rounded-xl bg-[var(--admin-bg)] border border-[var(--admin-border)] text-[var(--admin-text)] text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,t.jsx)("option",{value:"",children:"All Categories"}),n.map(e=>(0,t.jsxs)("option",{value:e.category,children:[e.category," (",e.count,")"]},e.category))]})]}),(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>R(1),className:"px-4 py-2 rounded-xl bg-gradient-to-r from-violet-500 to-purple-600 text-white text-sm font-medium hover:opacity-90 transition-opacity",children:"Apply"}),(0,t.jsx)("button",{onClick:()=>{g(""),y(""),k(""),C(""),R(1)},className:"px-4 py-2 rounded-xl bg-[var(--admin-hover)] text-[var(--admin-text)] text-sm hover:bg-[var(--admin-border)] transition-colors",children:"Clear"})]})]})}),(0,t.jsx)("div",{className:"bg-[var(--admin-card)] rounded-2xl border border-[var(--admin-border)] overflow-hidden",children:p?(0,t.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,t.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-violet-500 border-t-transparent animate-spin"})}):0===c.length?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("span",{className:"text-5xl block mb-4",children:"ğŸ“­"}),(0,t.jsx)("p",{className:"text-[var(--admin-text)] font-medium",children:"No records found"}),(0,t.jsx)("p",{className:"text-sm text-[var(--admin-muted)]",children:"Try adjusting your filters"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-[var(--admin-bg)]",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"Tool"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider hidden md:table-cell",children:"Category"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider hidden lg:table-cell",children:"Input"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-[var(--admin-border)]",children:c.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[var(--admin-hover)] transition-colors",children:[(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-[var(--admin-muted)]",children:["#",e.id]}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:l[e.tool_category]||"ğŸ› ï¸"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--admin-text)]",children:e.tool_name})]})}),(0,t.jsx)("td",{className:"px-4 py-3 hidden md:table-cell",children:(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-[var(--admin-hover)] text-[var(--admin-muted)] capitalize",children:e.tool_category})}),(0,t.jsx)("td",{className:"px-4 py-3 hidden lg:table-cell",children:(0,t.jsxs)("span",{className:"text-sm text-[var(--admin-muted)] truncate block max-w-[200px]",children:[e.raw_input?.substring(0,50)||e.file_path||"-",(e.raw_input?.length||0)>50&&"..."]})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:"text-sm text-[var(--admin-muted)]",children:new Date(e.timestamp).toLocaleString()})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>j(e),className:"p-1.5 rounded-lg hover:bg-[var(--admin-hover)] text-[var(--admin-muted)] hover:text-[var(--admin-primary)] transition-colors",title:"View Details",children:"ğŸ‘ï¸"}),(0,t.jsx)("button",{onClick:()=>e.id&&T(e.id),className:"p-1.5 rounded-lg hover:bg-red-500/10 text-[var(--admin-muted)] hover:text-red-400 transition-colors",title:"Delete",children:"ğŸ—‘ï¸"})]})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"px-4 py-3 border-t border-[var(--admin-border)] flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-[var(--admin-muted)]",children:["Showing ",(u-1)*50+1," to ",Math.min(50*u,x)," of ",x," records"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>R(u-1),disabled:u<=1,className:"px-3 py-1.5 rounded-lg bg-[var(--admin-hover)] text-[var(--admin-text)] text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[var(--admin-border)] transition-colors",children:"â† Previous"}),(0,t.jsxs)("span",{className:"text-sm text-[var(--admin-muted)]",children:["Page ",u," of ",_]}),(0,t.jsx)("button",{onClick:()=>R(u+1),disabled:u>=_,className:"px-3 py-1.5 rounded-lg bg-[var(--admin-hover)] text-[var(--admin-text)] text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[var(--admin-border)] transition-colors",children:"Next â†’"})]})]})]})}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>j(null),children:(0,t.jsxs)("div",{className:"bg-[var(--admin-card)] rounded-2xl border border-[var(--admin-border)] w-full max-w-2xl max-h-[90vh] overflow-auto",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-6 border-b border-[var(--admin-border)] flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-[var(--admin-text)]",children:["Record #",b.id]}),(0,t.jsx)("p",{className:"text-sm text-[var(--admin-muted)]",children:b.tool_name})]}),(0,t.jsx)("button",{onClick:()=>j(null),className:"p-2 rounded-lg hover:bg-[var(--admin-hover)] transition-colors",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Tool"}),(0,t.jsx)("p",{className:"text-[var(--admin-text)]",children:b.tool_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Category"}),(0,t.jsx)("p",{className:"text-[var(--admin-text)] capitalize",children:b.tool_category})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Input Type"}),(0,t.jsx)("p",{className:"text-[var(--admin-text)]",children:b.input_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Timestamp"}),(0,t.jsx)("p",{className:"text-[var(--admin-text)]",children:new Date(b.timestamp).toLocaleString()})]})]}),b.raw_input&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Input"}),(0,t.jsx)("pre",{className:"mt-1 p-3 rounded-xl bg-[var(--admin-bg)] text-sm text-[var(--admin-text)] overflow-auto max-h-[200px] whitespace-pre-wrap",children:b.raw_input})]}),b.output_result&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Output"}),(0,t.jsx)("pre",{className:"mt-1 p-3 rounded-xl bg-[var(--admin-bg)] text-sm text-[var(--admin-text)] overflow-auto max-h-[200px] whitespace-pre-wrap",children:b.output_result})]}),b.file_path&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"File Path"}),(0,t.jsx)("p",{className:"text-[var(--admin-text)] font-mono text-sm",children:b.file_path})]}),b.user_agent&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"User Agent"}),(0,t.jsx)("p",{className:"text-[var(--admin-text)] text-sm break-all",children:b.user_agent})]}),(0,t.jsxs)("div",{className:"pt-4 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{b.id&&(T(b.id),j(null))},className:"flex-1 py-2 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 font-medium hover:bg-red-500/20 transition-colors",children:"ğŸ—‘ï¸ Delete Record"}),(0,t.jsx)("button",{onClick:()=>j(null),className:"px-6 py-2 rounded-xl bg-[var(--admin-hover)] text-[var(--admin-text)] hover:bg-[var(--admin-border)] transition-colors",children:"Close"})]})]})]})})]})}e.s(["default",()=>i],86528)}]);