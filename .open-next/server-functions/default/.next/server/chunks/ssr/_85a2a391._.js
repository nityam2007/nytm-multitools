module.exports=[5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},3123,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(5050),e=(0,d.createServerReference)("40222b82691cf42a6a8c65152efcfa50bd88e0ccc0",d.callServer,void 0,d.findSourceMapURL,"fetchRecords"),f=(0,d.createServerReference)("40e31c8a2d3e3e71e267bdb3ff82a632febd2fd550",d.callServer,void 0,d.findSourceMapURL,"deleteRecordAction");let g={text:"ðŸ“",image:"ðŸ–¼ï¸",dev:"ðŸ’»",converter:"ðŸ”„",generator:"ðŸŽ²",security:"ðŸ”",misc:"ðŸ”§"};function h({initialRecords:a,initialTotal:d,toolStats:h,categoryStats:i}){let[j,k]=(0,c.useState)(a),[l,m]=(0,c.useState)(d),[n,o]=(0,c.useState)(1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),B=Math.ceil(l/50),C=async(a=1)=>{q(!0);try{let b=await e({page:a,limit:50,tool:t||void 0,category:v||void 0,search:x||void 0});k(b.records),m(b.total),o(a)}catch(a){console.error("Failed to fetch records:",a)}finally{q(!1)}},D=async a=>{if(confirm("Are you sure you want to delete this record?"))try{await f(a),C(n)}catch(a){console.error("Failed to delete record:",a)}},E=async()=>{confirm(`Delete all ${l} filtered records? This cannot be undone!`)&&alert("Bulk delete not implemented yet")};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-[var(--admin-text)]",children:"Activity Log"}),(0,b.jsxs)("p",{className:"text-[var(--admin-muted)]",children:["Complete history of all tool operations (",l.toLocaleString()," records)"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(n),className:"px-4 py-2 rounded-xl bg-[var(--admin-card)] border border-[var(--admin-border)] hover:bg-[var(--admin-hover)] transition-colors flex items-center gap-2",children:"ðŸ”„ Refresh"}),(0,b.jsx)("button",{onClick:E,className:"px-4 py-2 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 transition-colors",children:"ðŸ—‘ï¸ Clear All"})]})]}),(0,b.jsx)("div",{className:"bg-[var(--admin-card)] rounded-2xl border border-[var(--admin-border)] p-5",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,b.jsx)("label",{className:"text-xs text-[var(--admin-muted)] block mb-1",children:"Search"}),(0,b.jsx)("input",{type:"text",value:x,onChange:a=>y(a.target.value),placeholder:"Search in data...",className:"w-full px-3 py-2 rounded-xl bg-[var(--admin-bg)] border border-[var(--admin-border)] text-[var(--admin-text)] text-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),(0,b.jsxs)("div",{className:"w-44",children:[(0,b.jsx)("label",{className:"text-xs text-[var(--admin-muted)] block mb-1",children:"Tool"}),(0,b.jsxs)("select",{value:t,onChange:a=>u(a.target.value),className:"w-full px-3 py-2 rounded-xl bg-[var(--admin-bg)] border border-[var(--admin-border)] text-[var(--admin-text)] text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,b.jsx)("option",{value:"",children:"All Tools"}),h.map(a=>(0,b.jsxs)("option",{value:a.tool,children:[a.tool," (",a.count,")"]},a.tool))]})]}),(0,b.jsxs)("div",{className:"w-40",children:[(0,b.jsx)("label",{className:"text-xs text-[var(--admin-muted)] block mb-1",children:"Category"}),(0,b.jsxs)("select",{value:v,onChange:a=>w(a.target.value),className:"w-full px-3 py-2 rounded-xl bg-[var(--admin-bg)] border border-[var(--admin-border)] text-[var(--admin-text)] text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,b.jsx)("option",{value:"",children:"All Categories"}),i.map(a=>(0,b.jsxs)("option",{value:a.category,children:[a.category," (",a.count,")"]},a.category))]})]}),(0,b.jsxs)("div",{className:"flex items-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(1),className:"px-4 py-2 rounded-xl bg-gradient-to-r from-violet-500 to-purple-600 text-white text-sm font-medium hover:opacity-90 transition-opacity",children:"Apply"}),(0,b.jsx)("button",{onClick:()=>{u(""),w(""),y(""),A(""),C(1)},className:"px-4 py-2 rounded-xl bg-[var(--admin-hover)] text-[var(--admin-text)] text-sm hover:bg-[var(--admin-border)] transition-colors",children:"Clear"})]})]})}),(0,b.jsx)("div",{className:"bg-[var(--admin-card)] rounded-2xl border border-[var(--admin-border)] overflow-hidden",children:p?(0,b.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,b.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-violet-500 border-t-transparent animate-spin"})}):0===j.length?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)("span",{className:"text-5xl block mb-4",children:"ðŸ“­"}),(0,b.jsx)("p",{className:"text-[var(--admin-text)] font-medium",children:"No records found"}),(0,b.jsx)("p",{className:"text-sm text-[var(--admin-muted)]",children:"Try adjusting your filters"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-[var(--admin-bg)]",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"ID"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"Tool"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider hidden md:table-cell",children:"Category"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider hidden lg:table-cell",children:"Input"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"Timestamp"}),(0,b.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-[var(--admin-muted)] uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-[var(--admin-border)]",children:j.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-[var(--admin-hover)] transition-colors",children:[(0,b.jsxs)("td",{className:"px-4 py-3 text-sm text-[var(--admin-muted)]",children:["#",a.id]}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg",children:g[a.tool_category]||"ðŸ› ï¸"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--admin-text)]",children:a.tool_name})]})}),(0,b.jsx)("td",{className:"px-4 py-3 hidden md:table-cell",children:(0,b.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-[var(--admin-hover)] text-[var(--admin-muted)] capitalize",children:a.tool_category})}),(0,b.jsx)("td",{className:"px-4 py-3 hidden lg:table-cell",children:(0,b.jsxs)("span",{className:"text-sm text-[var(--admin-muted)] truncate block max-w-[200px]",children:[a.raw_input?.substring(0,50)||a.file_path||"-",(a.raw_input?.length||0)>50&&"..."]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:"text-sm text-[var(--admin-muted)]",children:new Date(a.timestamp).toLocaleString()})}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>s(a),className:"p-1.5 rounded-lg hover:bg-[var(--admin-hover)] text-[var(--admin-muted)] hover:text-[var(--admin-primary)] transition-colors",title:"View Details",children:"ðŸ‘ï¸"}),(0,b.jsx)("button",{onClick:()=>a.id&&D(a.id),className:"p-1.5 rounded-lg hover:bg-red-500/10 text-[var(--admin-muted)] hover:text-red-400 transition-colors",title:"Delete",children:"ðŸ—‘ï¸"})]})})]},a.id))})]})}),(0,b.jsxs)("div",{className:"px-4 py-3 border-t border-[var(--admin-border)] flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-[var(--admin-muted)]",children:["Showing ",(n-1)*50+1," to ",Math.min(50*n,l)," of ",l," records"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(n-1),disabled:n<=1,className:"px-3 py-1.5 rounded-lg bg-[var(--admin-hover)] text-[var(--admin-text)] text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[var(--admin-border)] transition-colors",children:"â† Previous"}),(0,b.jsxs)("span",{className:"text-sm text-[var(--admin-muted)]",children:["Page ",n," of ",B]}),(0,b.jsx)("button",{onClick:()=>C(n+1),disabled:n>=B,className:"px-3 py-1.5 rounded-lg bg-[var(--admin-hover)] text-[var(--admin-text)] text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[var(--admin-border)] transition-colors",children:"Next â†’"})]})]})]})}),r&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>s(null),children:(0,b.jsxs)("div",{className:"bg-[var(--admin-card)] rounded-2xl border border-[var(--admin-border)] w-full max-w-2xl max-h-[90vh] overflow-auto",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"p-6 border-b border-[var(--admin-border)] flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-[var(--admin-text)]",children:["Record #",r.id]}),(0,b.jsx)("p",{className:"text-sm text-[var(--admin-muted)]",children:r.tool_name})]}),(0,b.jsx)("button",{onClick:()=>s(null),className:"p-2 rounded-lg hover:bg-[var(--admin-hover)] transition-colors",children:"âœ•"})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Tool"}),(0,b.jsx)("p",{className:"text-[var(--admin-text)]",children:r.tool_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Category"}),(0,b.jsx)("p",{className:"text-[var(--admin-text)] capitalize",children:r.tool_category})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Input Type"}),(0,b.jsx)("p",{className:"text-[var(--admin-text)]",children:r.input_type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Timestamp"}),(0,b.jsx)("p",{className:"text-[var(--admin-text)]",children:new Date(r.timestamp).toLocaleString()})]})]}),r.raw_input&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Input"}),(0,b.jsx)("pre",{className:"mt-1 p-3 rounded-xl bg-[var(--admin-bg)] text-sm text-[var(--admin-text)] overflow-auto max-h-[200px] whitespace-pre-wrap",children:r.raw_input})]}),r.output_result&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"Output"}),(0,b.jsx)("pre",{className:"mt-1 p-3 rounded-xl bg-[var(--admin-bg)] text-sm text-[var(--admin-text)] overflow-auto max-h-[200px] whitespace-pre-wrap",children:r.output_result})]}),r.file_path&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"File Path"}),(0,b.jsx)("p",{className:"text-[var(--admin-text)] font-mono text-sm",children:r.file_path})]}),r.user_agent&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-[var(--admin-muted)]",children:"User Agent"}),(0,b.jsx)("p",{className:"text-[var(--admin-text)] text-sm break-all",children:r.user_agent})]}),(0,b.jsxs)("div",{className:"pt-4 flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{r.id&&(D(r.id),s(null))},className:"flex-1 py-2 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 font-medium hover:bg-red-500/20 transition-colors",children:"ðŸ—‘ï¸ Delete Record"}),(0,b.jsx)("button",{onClick:()=>s(null),className:"px-6 py-2 rounded-xl bg-[var(--admin-hover)] text-[var(--admin-text)] hover:bg-[var(--admin-border)] transition-colors",children:"Close"})]})]})]})})]})}a.s(["default",()=>h],3123)}];

//# sourceMappingURL=_85a2a391._.js.map